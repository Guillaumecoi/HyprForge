{
  description = "Penetration Testing and Security Research Environment";

  inputs = {
    nixpkgs.url = "github:nixos/nixpkgs/nixos-unstable";
    flake-utils.url = "github:numtide/flake-utils";
  };

  outputs =
    { nixpkgs, flake-utils, ... }:
    flake-utils.lib.eachDefaultSystem (
      system:
      let
        pkgs = nixpkgs.legacyPackages.${system};
      in
      {
        devShells.default = pkgs.mkShell {
          buildInputs = with pkgs; [
            # Network scanning
            nmap
            rustscan

            # Network analysis
            wireshark
            tcpdump

            # Basic tools
            netcat
            curl
            wget

            # Optional: Advanced scanning
            # masscan
            # zmap
            # tshark

            # Optional: Web security
            # burpsuite
            # nikto
            # sqlmap

            # Optional: Password cracking
            # john
            hashcat
            # hydra

            # Optional: Exploitation frameworks
            metasploit

            # Optional: Reverse engineering
            # radare2
            # ghidra
            # binwalk

            # Optional: Enumeration
            # enum4linux
            # gobuster
            # feroxbuster
            # ffuf

            # Optional: Network tools
            # socat
            # proxychains

            # Optional: SSL/TLS
            # sslscan
            # testssl

            # Optional: Wireless
            # aircrack-ng

            # Optional: Python scripting
            # python3
            # python3Packages.pwntools
            # python3Packages.scapy
            # python3Packages.requests
            # python3Packages.beautifulsoup4

            # Optional: Information gathering
            # theharvester
            # whois
            # dnsutils

            # Optional: Exploitation tools
            # exploitdb
            # searchsploit

            # Optional: Wordlists
            # wordlists
            seclists
          ];

          shellHook = ''
            echo "üîí Pentesting environment loaded"
            echo "‚ö†Ô∏è  Use only on systems you own or have permission to test!"
            export PROJECT_ROOT=$PWD
          '';
        };
      }
    );
}
